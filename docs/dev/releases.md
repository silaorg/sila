# How we build and release

We release in three steps:
1) Create a draft release on Github
2) Build and upload those builds to the draft release
3) Publish the draft release as the latest release

## Create a draft
- Trigger: push a tag `vX.Y.Z`
- Workflow: "Release - Create Draft"
- Result: a draft GitHub Release with autogenerated notes (no binaries yet)

## Build and upload builds (Windows/Linux on CI, macOS locally)
- Workflow: "Release - Upload Win/Linux to Draft" (manual, input the tag)
- Adds Windows and Linux artifacts to the same draft release
- Locally on macOS, build and upload the notarized DMG(s) to the draft

## Publish the draft
- Workflow: "Release - Finalize (Publish)" (manual, input the tag)
- Sets `draft=false` so users and auto-updaters see the new version

## Github actions
See `.github/workflows/` in the root
Use `gh` cli tool to inspect workflows if needed

## Notes
- macOS builds are done locally (signed + notarized). Windows/Linux are built on CI.
- We produce a single universal macOS DMG (Intel + Apple Silicon).